<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <title>{{ title }}</title>
    <style>
        * {
            font-family: Ubuntu, Roboto, Tahoma, Arial, Helvetica, sans-serif;
            background-color: #121212;
            color: #ffffff;
        }

        a {
            color: #0000ff;
        }

        a:hover {
            color: #9696ff;
        }

        input[type="number"] {
            width: 80px;
        }

        input:focus {
            outline: none;
        }
    </style>
</head>

<body>
    <header class="w3-center">
        <h1>{{ title }}</h1>
        <div style="white-space: normal;">
            <a href="https://github.com/moreavy/employee-manager-m">GitHub</a>
        </div>
    </header>
    <hr>
    <main style="text-align: left;">
        <form class="w3-center w3-container" action="/add" method="POST">
            <label>Full Name: </label><br><input class="w3-border" type="text" name="name" value="John Doe" /><br><br>
            <label>Posting: </label><br><input class="w3-border" type="text" name="posting" value="Employee" /><br><br>
            <label>Date Of Birth: </label><br><label>Day: </label><input type="number" class="w3-border" name="day"
                min="1" max="31" onkeydown="return false" value="1" /><br><label>Month: </label><input class="w3-border"
                type="number" name="month" min="1" max="12" value="1" onkeydown="return false" /><br><label>Year:
            </label><input class="w3-border" type="number" name="year" value="1950" /><br><br>
            <label>Salary (Per Month): </label><br>₹<input class="w3-border" type="number" name="salary" value="0"
                style="width: 200px;" /><br><br>
            <button type="submit" class="w3-button w3-round w3-medium w3-green w3-ripple">Add Employee</button>
        </form>
        <br>
        <table class="w3-table-all">
            <tr>
                <th>Full Name</th>
                <th>Posting</th>
                <th>Date Of Birth</th>
                <th>Salary</th>
                <th>Employee ID</th>
            </tr>
            {% for employee in employees %}
            <tr>
                <td>{{ employee.name }}</td>
                <td>{{ employee.posting }}</td>
                <td>{{ format_dob(employee.dob.day, employee.dob.month, employee.dob.year) }}</td>
                <td>{{ employee.salary }}</td>
                <td>{{ employees.index(employee) + 1 }}</td>
                <td>
                    <form action="/delete" method="POST">
                        <input type="number" value='{{ db.get("employees").index(employee) }}' style="display: none;"
                            name="id" />
                        <button type="submit"
                            class="w3-button w3-ripple w3-center w3-red w3-round">Remove/Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>
        <hr>
    </main>
    <footer class="w3-center">
        <p>Copyright © 2021 Avyukt More</p>
    </footer>
</body>

</html>
